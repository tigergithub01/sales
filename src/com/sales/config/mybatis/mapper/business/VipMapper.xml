<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sales.dao.business.VipMapper">
  <resultMap id="BaseResultMap" type="com.sales.model.business.Vip">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    
    	<!-- // 主键 -->
    	<id column="id" property="id" />
    	<!-- // 会员类别 -->
		<result column="vip_type_id" property="vipTypeId" />
    	<!-- // 会员名(登陆名） -->
		<result column="vip_name" property="vipName" />
    	<!-- // 会员密码 -->
		<result column="vip_pwd" property="vipPwd" />
    	<!-- // 会员昵称 -->
		<result column="vip_nick_name" property="vipNickName" />
    	<!-- // 性别 -->
		<result column="sex" property="sex" />
    	<!-- // 会员生日 -->
		<result column="birthday" property="birthday" />
    	<!-- // 手机号码 -->
		<result column="mobile" property="mobile" />
    	<!-- // 手机号码是否已经验证？1：是；0：否 -->
		<result column="mobile_verify_flag" property="mobileVerifyFlag" />
    	<!-- // 邮箱 -->
		<result column="email" property="email" />
    	<!-- // 邮箱是否已经验证？1：是；0：否 -->
		<result column="email_verify_flag" property="emailVerifyFlag" />
    	<!-- // 等级积分（收银系统中，此字段备用） -->
		<result column="rank_integral" property="rankIntegral" />
    	<!-- // 消费积分 -->
		<result column="resume_integral" property="resumeIntegral" />
    	<!-- // 最后一次登录日期 -->
		<result column="last_login_date" property="lastLoginDate" />
    	<!-- // 注册时间 -->
		<result column="regiser_date" property="regiserDate" />
    	<!-- // 上级会员 -->
		<result column="parent_id" property="parentId" />
    	<!-- // 宝宝昵称 -->
		<result column="baby_name" property="babyName" />
    	<!-- // 宝宝性别 -->
		<result column="baby_sex" property="babySex" />
    	<!-- // 宝宝生日 -->
		<result column="baby_birthday" property="babyBirthday" />
    
    <association property="vipTypeIdRef" javaType="com.sales.model.business.VipType">
    	<id column="vip_type_id" property="id"/>
    	<result column="vipTypeIdRef_id" property="id" />
    	<result column="vipTypeIdRef_name" property="name" />
    </association>
    
    <association property="sexRef" javaType="com.sales.model.business.SysParameter">
    	<id column="sex" property="id"/>
    	<result column="sexRef_id" property="id" />
    	<result column="sexRef_param_val" property="paramVal" />
    </association>
    
    <association property="mobileVerifyFlagRef" javaType="com.sales.model.business.SysParameter">
    	<id column="mobile_verify_flag" property="id"/>
    	<result column="mobileVerifyFlagRef_id" property="id" />
    	<result column="mobileVerifyFlagRef_param_val" property="paramVal" />
    </association>
    
    <association property="emailVerifyFlagRef" javaType="com.sales.model.business.SysParameter">
    	<id column="email_verify_flag" property="id"/>
    	<result column="emailVerifyFlagRef_id" property="id" />
    	<result column="emailVerifyFlagRef_param_val" property="paramVal" />
    </association>
    
    <association property="parentIdRef" javaType="com.sales.model.business.Vip">
    	<id column="parent_id" property="id"/>
    	<result column="parentIdRef_id" property="id" />
    	<result column="parentIdRef_vip_name" property="vipName" />
    </association>
    
    <association property="babySexRef" javaType="com.sales.model.business.SysParameter">
    	<id column="baby_sex" property="id"/>
    	<result column="babySexRef_id" property="id" />
    	<result column="babySexRef_param_val" property="paramVal" />
    </association>
    
    
  </resultMap>
  
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    
    	o.id, 
    	vipTypeIdRef.id AS vipTypeIdRef_id, 
		vipTypeIdRef.name as vipTypeIdRef_name,
    	o.vip_type_id, 
    	o.vip_name, 
    	o.vip_pwd, 
    	o.vip_nick_name, 
    	sexRef.id AS sexRef_id, 
		sexRef.param_val as sexRef_param_val,
    	o.sex, 
    	o.birthday, 
    	o.mobile, 
    	mobileVerifyFlagRef.id AS mobileVerifyFlagRef_id, 
		mobileVerifyFlagRef.param_val as mobileVerifyFlagRef_param_val,
    	o.mobile_verify_flag, 
    	o.email, 
    	emailVerifyFlagRef.id AS emailVerifyFlagRef_id, 
		emailVerifyFlagRef.param_val as emailVerifyFlagRef_param_val,
    	o.email_verify_flag, 
    	o.rank_integral, 
    	o.resume_integral, 
    	o.last_login_date, 
    	o.regiser_date, 
    	parentIdRef.id AS parentIdRef_id, 
		parentIdRef.vip_name as parentIdRef_vip_name,
    	o.parent_id, 
    	o.baby_name, 
    	babySexRef.id AS babySexRef_id, 
		babySexRef.param_val as babySexRef_param_val,
    	o.baby_sex, 
    	o.baby_birthday
	
  </sql>
  
  <sql id="Base_From_Tbl">
  	from t_vip o
	    LEFT JOIN t_vip_type vipTypeIdRef ON (o.vip_type_id = vipTypeIdRef.id)
	    LEFT JOIN t_sys_parameter sexRef ON (o.sex = sexRef.id)
	    LEFT JOIN t_sys_parameter mobileVerifyFlagRef ON (o.mobile_verify_flag = mobileVerifyFlagRef.id)
	    LEFT JOIN t_sys_parameter emailVerifyFlagRef ON (o.email_verify_flag = emailVerifyFlagRef.id)
	    LEFT JOIN t_vip parentIdRef ON (o.parent_id = parentIdRef.id)
	    LEFT JOIN t_sys_parameter babySexRef ON (o.baby_sex = babySexRef.id)
  </sql>
  
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    <include refid="Base_From_Tbl" />
    where o.id = #{id}
  </select>
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from t_vip
    where id = #{id}
  </delete>
  
  <insert id="insert" parameterType="com.sales.model.business.Vip">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into t_vip (
      id, 
      vip_type_id, 
      vip_name, 
      vip_pwd, 
      vip_nick_name, 
      sex, 
      birthday, 
      mobile, 
      mobile_verify_flag, 
      email, 
      email_verify_flag, 
      rank_integral, 
      resume_integral, 
      last_login_date, 
      regiser_date, 
      parent_id, 
      baby_name, 
      baby_sex, 
      baby_birthday
      )
    values (
      #{id}, 
      #{vipTypeId}, 
      #{vipName}, 
      #{vipPwd}, 
      #{vipNickName}, 
      #{sex}, 
      #{birthday}, 
      #{mobile}, 
      #{mobileVerifyFlag}, 
      #{email}, 
      #{emailVerifyFlag}, 
      #{rankIntegral}, 
      #{resumeIntegral}, 
      #{lastLoginDate}, 
      #{regiserDate}, 
      #{parentId}, 
      #{babyName}, 
      #{babySex}, 
      #{babyBirthday}
      )
  </insert>
  
  <insert id="insertSelective" parameterType="com.sales.model.business.Vip">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into t_vip
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="vipTypeId != null">
        vip_type_id,
      </if>
      <if test="vipName != null">
        vip_name,
      </if>
      <if test="vipPwd != null">
        vip_pwd,
      </if>
      <if test="vipNickName != null">
        vip_nick_name,
      </if>
      <if test="sex != null">
        sex,
      </if>
      <if test="birthday != null">
        birthday,
      </if>
      <if test="mobile != null">
        mobile,
      </if>
      <if test="mobileVerifyFlag != null">
        mobile_verify_flag,
      </if>
      <if test="email != null">
        email,
      </if>
      <if test="emailVerifyFlag != null">
        email_verify_flag,
      </if>
      <if test="rankIntegral != null">
        rank_integral,
      </if>
      <if test="resumeIntegral != null">
        resume_integral,
      </if>
      <if test="lastLoginDate != null">
        last_login_date,
      </if>
      <if test="regiserDate != null">
        regiser_date,
      </if>
      <if test="parentId != null">
        parent_id,
      </if>
      <if test="babyName != null">
        baby_name,
      </if>
      <if test="babySex != null">
        baby_sex,
      </if>
      <if test="babyBirthday != null">
        baby_birthday,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id},
      </if>
      <if test="vipTypeId != null">
        #{vipTypeId},
      </if>
      <if test="vipName != null">
        #{vipName},
      </if>
      <if test="vipPwd != null">
        #{vipPwd},
      </if>
      <if test="vipNickName != null">
        #{vipNickName},
      </if>
      <if test="sex != null">
        #{sex},
      </if>
      <if test="birthday != null">
        #{birthday},
      </if>
      <if test="mobile != null">
        #{mobile},
      </if>
      <if test="mobileVerifyFlag != null">
        #{mobileVerifyFlag},
      </if>
      <if test="email != null">
        #{email},
      </if>
      <if test="emailVerifyFlag != null">
        #{emailVerifyFlag},
      </if>
      <if test="rankIntegral != null">
        #{rankIntegral},
      </if>
      <if test="resumeIntegral != null">
        #{resumeIntegral},
      </if>
      <if test="lastLoginDate != null">
        #{lastLoginDate},
      </if>
      <if test="regiserDate != null">
        #{regiserDate},
      </if>
      <if test="parentId != null">
        #{parentId},
      </if>
      <if test="babyName != null">
        #{babyName},
      </if>
      <if test="babySex != null">
        #{babySex},
      </if>
      <if test="babyBirthday != null">
        #{babyBirthday},
      </if>
    </trim>
  </insert>
  
  <update id="updateByPrimaryKeySelective" parameterType="com.sales.model.business.Vip">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update t_vip
    <set>
      <if test="id != null">
      	id = #{id},
      </if>
      <if test="vipTypeId != null">
      	vip_type_id = #{vipTypeId},
      </if>
      <if test="vipName != null">
      	vip_name = #{vipName},
      </if>
      <if test="vipPwd != null">
      	vip_pwd = #{vipPwd},
      </if>
      <if test="vipNickName != null">
      	vip_nick_name = #{vipNickName},
      </if>
      <if test="sex != null">
      	sex = #{sex},
      </if>
      <if test="birthday != null">
      	birthday = #{birthday},
      </if>
      <if test="mobile != null">
      	mobile = #{mobile},
      </if>
      <if test="mobileVerifyFlag != null">
      	mobile_verify_flag = #{mobileVerifyFlag},
      </if>
      <if test="email != null">
      	email = #{email},
      </if>
      <if test="emailVerifyFlag != null">
      	email_verify_flag = #{emailVerifyFlag},
      </if>
      <if test="rankIntegral != null">
      	rank_integral = #{rankIntegral},
      </if>
      <if test="resumeIntegral != null">
      	resume_integral = #{resumeIntegral},
      </if>
      <if test="lastLoginDate != null">
      	last_login_date = #{lastLoginDate},
      </if>
      <if test="regiserDate != null">
      	regiser_date = #{regiserDate},
      </if>
      <if test="parentId != null">
      	parent_id = #{parentId},
      </if>
      <if test="babyName != null">
      	baby_name = #{babyName},
      </if>
      <if test="babySex != null">
      	baby_sex = #{babySex},
      </if>
      <if test="babyBirthday != null">
      	baby_birthday = #{babyBirthday},
      </if>
    </set>
    where id = #{id}
  </update>
  
  <update id="updateByPrimaryKey" parameterType="com.sales.model.business.Vip">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update t_vip
    set 
      id = #{id}, 
      vip_type_id = #{vipTypeId}, 
      vip_name = #{vipName}, 
      vip_pwd = #{vipPwd}, 
      vip_nick_name = #{vipNickName}, 
      sex = #{sex}, 
      birthday = #{birthday}, 
      mobile = #{mobile}, 
      mobile_verify_flag = #{mobileVerifyFlag}, 
      email = #{email}, 
      email_verify_flag = #{emailVerifyFlag}, 
      rank_integral = #{rankIntegral}, 
      resume_integral = #{resumeIntegral}, 
      last_login_date = #{lastLoginDate}, 
      regiser_date = #{regiserDate}, 
      parent_id = #{parentId}, 
      baby_name = #{babyName}, 
      baby_sex = #{babySex}, 
      baby_birthday = #{babyBirthday}
    where id = #{id}
  </update>
  
  <select id="selectList" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		<include refid="Base_From_Tbl" />
		<where>
			
			<if test="model.id != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.id = #{model.id}
				</trim>
			</if>
			
			<if test="model.vipTypeId != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.vip_type_id = #{model.vipTypeId}
				</trim>
			</if>
			
			<if test="model.vipName != null and model.vipName != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.vip_name like CONCAT('%','${model.vipName}','%')
				</trim>
			</if>
			
			<if test="model.vipPwd != null and model.vipPwd != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.vip_pwd like CONCAT('%','${model.vipPwd}','%')
				</trim>
			</if>
			
			<if test="model.vipNickName != null and model.vipNickName != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.vip_nick_name like CONCAT('%','${model.vipNickName}','%')
				</trim>
			</if>
			
			<if test="model.sex != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.sex = #{model.sex}
				</trim>
			</if>
			
			<if test="model.birthday != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.birthday = #{model.birthday}
				</trim>
			</if>
			
			<if test="model.mobile != null and model.mobile != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.mobile like CONCAT('%','${model.mobile}','%')
				</trim>
			</if>
			
			<if test="model.mobileVerifyFlag != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.mobile_verify_flag = #{model.mobileVerifyFlag}
				</trim>
			</if>
			
			<if test="model.email != null and model.email != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.email like CONCAT('%','${model.email}','%')
				</trim>
			</if>
			
			<if test="model.emailVerifyFlag != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.email_verify_flag = #{model.emailVerifyFlag}
				</trim>
			</if>
			
			<if test="model.rankIntegral != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.rank_integral = #{model.rankIntegral}
				</trim>
			</if>
			
			<if test="model.resumeIntegral != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.resume_integral = #{model.resumeIntegral}
				</trim>
			</if>
			
			<if test="model.lastLoginDate != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.last_login_date = #{model.lastLoginDate}
				</trim>
			</if>
			
			<if test="model.regiserDate != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.regiser_date = #{model.regiserDate}
				</trim>
			</if>
			
			<if test="model.parentId != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.parent_id = #{model.parentId}
				</trim>
			</if>
			
			<if test="model.babyName != null and model.babyName != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.baby_name like CONCAT('%','${model.babyName}','%')
				</trim>
			</if>
			
			<if test="model.babySex != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.baby_sex = #{model.babySex}
				</trim>
			</if>
			
			<if test="model.babyBirthday != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.baby_birthday = #{model.babyBirthday}
				</trim>
			</if>
		</where>
	</select>
	
</mapper>