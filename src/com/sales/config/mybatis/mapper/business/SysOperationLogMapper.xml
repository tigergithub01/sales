<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sales.dao.business.SysOperationLogMapper">
  <resultMap id="BaseResultMap" type="com.sales.model.business.SysOperationLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    
    	<!-- // 主键 -->
    	<id column="id" property="id" />
    	<!-- // 操作用户 -->
		<result column="user_id" property="userId" />
    	<!-- // 操作日期 -->
		<result column="operate_date" property="operateDate" />
    	<!-- // 操作模块 -->
		<result column="module_id" property="moduleId" />
    	<!-- // 操作 -->
		<result column="operation_id" property="operationId" />
    	<!-- // 操作描述 -->
		<result column="operate_desc" property="operateDesc" />
    	<!-- // 请求机器名 -->
		<result column="remote_server" property="remoteServer" />
    	<!-- // 请求ip地址 -->
		<result column="remote_addr" property="remoteAddr" />
    	<!-- // 请求URL -->
		<result column="request_url" property="requestUrl" />
    	<!-- // 类名 -->
		<result column="controller_name" property="controllerName" />
    	<!-- // 方法名 -->
		<result column="method_name" property="methodName" />
    	<!-- // 错误编号，根据错误编号可以在日志文件中查看详细错误 -->
		<result column="error_id" property="errorId" />
    	<!-- // 错误信息 -->
		<result column="error_message" property="errorMessage" />
    	<!-- // 操作系统 -->
		<result column="os_type" property="osType" />
    	<!-- // 浏览器 -->
		<result column="browser_type" property="browserType" />
    
    <association property="userIdRef" javaType="com.sales.model.business.SysUser">
    	<id column="user_id" property="id"/>
    	<result column="userIdRef_id" property="id" />
    	<result column="userIdRef_user_name" property="userName" />
    </association>
    
    <association property="moduleIdRef" javaType="com.sales.model.business.SysModule">
    	<id column="module_id" property="id"/>
    	<result column="moduleIdRef_id" property="id" />
    	<result column="moduleIdRef_name" property="name" />
    </association>
    
    <association property="operationIdRef" javaType="com.sales.model.business.SysOperation">
    	<id column="operation_id" property="id"/>
    	<result column="operationIdRef_id" property="id" />
    	<result column="operationIdRef_name" property="name" />
    </association>
    
    
  </resultMap>
  
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    
    	o.id, 
    	userIdRef.id AS userIdRef_id, 
		userIdRef.user_name as userIdRef_user_name,
    	o.user_id, 
    	o.operate_date, 
    	moduleIdRef.id AS moduleIdRef_id, 
		moduleIdRef.name as moduleIdRef_name,
    	o.module_id, 
    	operationIdRef.id AS operationIdRef_id, 
		operationIdRef.name as operationIdRef_name,
    	o.operation_id, 
    	o.operate_desc, 
    	o.remote_server, 
    	o.remote_addr, 
    	o.request_url, 
    	o.controller_name, 
    	o.method_name, 
    	o.error_id, 
    	o.error_message, 
    	o.os_type, 
    	o.browser_type
	
  </sql>
  
  <sql id="Base_From_Tbl">
  	from t_sys_operation_log o
	    LEFT JOIN t_sys_user userIdRef ON (o.user_id = userIdRef.id)
	    LEFT JOIN t_sys_module moduleIdRef ON (o.module_id = moduleIdRef.id)
	    LEFT JOIN t_sys_operation operationIdRef ON (o.operation_id = operationIdRef.id)
  </sql>
  
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    <include refid="Base_From_Tbl" />
    where o.id = #{id}
  </select>
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from t_sys_operation_log
    where id = #{id}
  </delete>
  
  <insert id="insert" parameterType="com.sales.model.business.SysOperationLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into t_sys_operation_log (
      id, 
      user_id, 
      operate_date, 
      module_id, 
      operation_id, 
      operate_desc, 
      remote_server, 
      remote_addr, 
      request_url, 
      controller_name, 
      method_name, 
      error_id, 
      error_message, 
      os_type, 
      browser_type
      )
    values (
      #{id}, 
      #{userId}, 
      #{operateDate}, 
      #{moduleId}, 
      #{operationId}, 
      #{operateDesc}, 
      #{remoteServer}, 
      #{remoteAddr}, 
      #{requestUrl}, 
      #{controllerName}, 
      #{methodName}, 
      #{errorId}, 
      #{errorMessage}, 
      #{osType}, 
      #{browserType}
      )
  </insert>
  
  <insert id="insertSelective" parameterType="com.sales.model.business.SysOperationLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into t_sys_operation_log
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="userId != null">
        user_id,
      </if>
      <if test="operateDate != null">
        operate_date,
      </if>
      <if test="moduleId != null">
        module_id,
      </if>
      <if test="operationId != null">
        operation_id,
      </if>
      <if test="operateDesc != null">
        operate_desc,
      </if>
      <if test="remoteServer != null">
        remote_server,
      </if>
      <if test="remoteAddr != null">
        remote_addr,
      </if>
      <if test="requestUrl != null">
        request_url,
      </if>
      <if test="controllerName != null">
        controller_name,
      </if>
      <if test="methodName != null">
        method_name,
      </if>
      <if test="errorId != null">
        error_id,
      </if>
      <if test="errorMessage != null">
        error_message,
      </if>
      <if test="osType != null">
        os_type,
      </if>
      <if test="browserType != null">
        browser_type,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id},
      </if>
      <if test="userId != null">
        #{userId},
      </if>
      <if test="operateDate != null">
        #{operateDate},
      </if>
      <if test="moduleId != null">
        #{moduleId},
      </if>
      <if test="operationId != null">
        #{operationId},
      </if>
      <if test="operateDesc != null">
        #{operateDesc},
      </if>
      <if test="remoteServer != null">
        #{remoteServer},
      </if>
      <if test="remoteAddr != null">
        #{remoteAddr},
      </if>
      <if test="requestUrl != null">
        #{requestUrl},
      </if>
      <if test="controllerName != null">
        #{controllerName},
      </if>
      <if test="methodName != null">
        #{methodName},
      </if>
      <if test="errorId != null">
        #{errorId},
      </if>
      <if test="errorMessage != null">
        #{errorMessage},
      </if>
      <if test="osType != null">
        #{osType},
      </if>
      <if test="browserType != null">
        #{browserType},
      </if>
    </trim>
  </insert>
  
  <update id="updateByPrimaryKeySelective" parameterType="com.sales.model.business.SysOperationLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update t_sys_operation_log
    <set>
      <if test="id != null">
      	id = #{id},
      </if>
      <if test="userId != null">
      	user_id = #{userId},
      </if>
      <if test="operateDate != null">
      	operate_date = #{operateDate},
      </if>
      <if test="moduleId != null">
      	module_id = #{moduleId},
      </if>
      <if test="operationId != null">
      	operation_id = #{operationId},
      </if>
      <if test="operateDesc != null">
      	operate_desc = #{operateDesc},
      </if>
      <if test="remoteServer != null">
      	remote_server = #{remoteServer},
      </if>
      <if test="remoteAddr != null">
      	remote_addr = #{remoteAddr},
      </if>
      <if test="requestUrl != null">
      	request_url = #{requestUrl},
      </if>
      <if test="controllerName != null">
      	controller_name = #{controllerName},
      </if>
      <if test="methodName != null">
      	method_name = #{methodName},
      </if>
      <if test="errorId != null">
      	error_id = #{errorId},
      </if>
      <if test="errorMessage != null">
      	error_message = #{errorMessage},
      </if>
      <if test="osType != null">
      	os_type = #{osType},
      </if>
      <if test="browserType != null">
      	browser_type = #{browserType},
      </if>
    </set>
    where id = #{id}
  </update>
  
  <update id="updateByPrimaryKey" parameterType="com.sales.model.business.SysOperationLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update t_sys_operation_log
    set 
      id = #{id}, 
      user_id = #{userId}, 
      operate_date = #{operateDate}, 
      module_id = #{moduleId}, 
      operation_id = #{operationId}, 
      operate_desc = #{operateDesc}, 
      remote_server = #{remoteServer}, 
      remote_addr = #{remoteAddr}, 
      request_url = #{requestUrl}, 
      controller_name = #{controllerName}, 
      method_name = #{methodName}, 
      error_id = #{errorId}, 
      error_message = #{errorMessage}, 
      os_type = #{osType}, 
      browser_type = #{browserType}
    where id = #{id}
  </update>
  
  <select id="selectList" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		<include refid="Base_From_Tbl" />
		<where>
			
			<if test="model.id != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.id = #{model.id}
				</trim>
			</if>
			
			<if test="model.userId != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.user_id = #{model.userId}
				</trim>
			</if>
			
			<if test="model.operateDate != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.operate_date = #{model.operateDate}
				</trim>
			</if>
			
			<if test="model.moduleId != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.module_id = #{model.moduleId}
				</trim>
			</if>
			
			<if test="model.operationId != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.operation_id = #{model.operationId}
				</trim>
			</if>
			
			<if test="model.operateDesc != null and model.operateDesc != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.operate_desc like CONCAT('%','${model.operateDesc}','%')
				</trim>
			</if>
			
			<if test="model.remoteServer != null and model.remoteServer != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.remote_server like CONCAT('%','${model.remoteServer}','%')
				</trim>
			</if>
			
			<if test="model.remoteAddr != null and model.remoteAddr != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.remote_addr like CONCAT('%','${model.remoteAddr}','%')
				</trim>
			</if>
			
			<if test="model.requestUrl != null and model.requestUrl != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.request_url like CONCAT('%','${model.requestUrl}','%')
				</trim>
			</if>
			
			<if test="model.controllerName != null and model.controllerName != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.controller_name like CONCAT('%','${model.controllerName}','%')
				</trim>
			</if>
			
			<if test="model.methodName != null and model.methodName != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.method_name like CONCAT('%','${model.methodName}','%')
				</trim>
			</if>
			
			<if test="model.errorId != null and model.errorId != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.error_id like CONCAT('%','${model.errorId}','%')
				</trim>
			</if>
			
			<if test="model.errorMessage != null and model.errorMessage != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.error_message like CONCAT('%','${model.errorMessage}','%')
				</trim>
			</if>
			
			<if test="model.osType != null and model.osType != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.os_type like CONCAT('%','${model.osType}','%')
				</trim>
			</if>
			
			<if test="model.browserType != null and model.browserType != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.browser_type like CONCAT('%','${model.browserType}','%')
				</trim>
			</if>
		</where>
	</select>
	
</mapper>