<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sales.dao.business.SysUserMapper">
  <resultMap id="BaseResultMap" type="com.sales.model.business.SysUser">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    
    	<!-- // 主键 -->
    	<id column="id" property="id" />
    	<!-- // 登录ID -->
		<result column="user_id" property="userId" />
    	<!-- // 用户姓名 -->
		<result column="user_name" property="userName" />
    	<!-- // 登录密码 -->
		<result column="password" property="password" />
    	<!-- // 是否有效?1,是;0,否 -->
		<result column="status" property="status" />
    	<!-- // 创建人 -->
		<result column="create_user_id" property="createUserId" />
    	<!-- // 更新人 -->
		<result column="update_user_id" property="updateUserId" />
    	<!-- // 创建时间 -->
		<result column="create_date" property="createDate" />
    	<!-- // 更新时间 -->
		<result column="update_date" property="updateDate" />
    	<!-- // 最后登录时间 -->
		<result column="last_login_date" property="lastLoginDate" />
    	<!-- // 描述 -->
		<result column="description" property="description" />
    	<!-- // 所属机构 -->
		<result column="organization_id" property="organizationId" />
    	<!-- // 用户类型：操作员 ，营业员，收银员 -->
		<result column="user_type" property="userType" />
    	<!-- // 机构数据权限（查看本门店数据，查看本机构及其下属机构数据，查看指定机构数据） -->
		<result column="auth_type" property="authType" />
    	<!-- // 入职时间 -->
		<result column="emp_entry_time" property="empEntryTime" />
    	<!-- // 离职时间 -->
		<result column="emp_leave_time" property="empLeaveTime" />
    	<!-- // 人员状态（在职，离职） -->
		<result column="emp_status" property="empStatus" />
    	<!-- // 联系电话 -->
		<result column="tel" property="tel" />
    
    <association property="statusRef" javaType="com.sales.model.business.SysParameter">
    	<id column="status" property="id"/>
    	<result column="statusRef_id" property="id" />
    	<result column="statusRef_param_val" property="paramVal" />
    </association>
    
    <association property="organizationIdRef" javaType="com.sales.model.business.Organization">
    	<id column="organization_id" property="id"/>
    	<result column="organizationIdRef_id" property="id" />
    	<result column="organizationIdRef_name" property="name" />
    </association>
    
    <association property="userTypeRef" javaType="com.sales.model.business.SysParameter">
    	<id column="user_type" property="id"/>
    	<result column="userTypeRef_id" property="id" />
    	<result column="userTypeRef_param_val" property="paramVal" />
    </association>
    
    <association property="authTypeRef" javaType="com.sales.model.business.SysParameter">
    	<id column="auth_type" property="id"/>
    	<result column="authTypeRef_id" property="id" />
    	<result column="authTypeRef_param_val" property="paramVal" />
    </association>
    
    <association property="empStatusRef" javaType="com.sales.model.business.SysParameter">
    	<id column="emp_status" property="id"/>
    	<result column="empStatusRef_id" property="id" />
    	<result column="empStatusRef_param_val" property="paramVal" />
    </association>
    
    
  </resultMap>
  
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    
    	o.id, 
    	o.user_id, 
    	o.user_name, 
    	o.password, 
    	statusRef.id AS statusRef_id, 
		statusRef.param_val as statusRef_param_val,
    	o.status, 
    	o.create_user_id, 
    	o.update_user_id, 
    	o.create_date, 
    	o.update_date, 
    	o.last_login_date, 
    	o.description, 
    	organizationIdRef.id AS organizationIdRef_id, 
		organizationIdRef.name as organizationIdRef_name,
    	o.organization_id, 
    	userTypeRef.id AS userTypeRef_id, 
		userTypeRef.param_val as userTypeRef_param_val,
    	o.user_type, 
    	authTypeRef.id AS authTypeRef_id, 
		authTypeRef.param_val as authTypeRef_param_val,
    	o.auth_type, 
    	o.emp_entry_time, 
    	o.emp_leave_time, 
    	empStatusRef.id AS empStatusRef_id, 
		empStatusRef.param_val as empStatusRef_param_val,
    	o.emp_status, 
    	o.tel
	
  </sql>
  
  <sql id="Base_From_Tbl">
  	from t_sys_user o
	    LEFT JOIN t_sys_parameter statusRef ON (o.status = statusRef.id)
	    LEFT JOIN t_organization organizationIdRef ON (o.organization_id = organizationIdRef.id)
	    LEFT JOIN t_sys_parameter userTypeRef ON (o.user_type = userTypeRef.id)
	    LEFT JOIN t_sys_parameter authTypeRef ON (o.auth_type = authTypeRef.id)
	    LEFT JOIN t_sys_parameter empStatusRef ON (o.emp_status = empStatusRef.id)
  </sql>
  
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    <include refid="Base_From_Tbl" />
    where o.id = #{id}
  </select>
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from t_sys_user
    where id = #{id}
  </delete>
  
  <insert id="insert" parameterType="com.sales.model.business.SysUser">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into t_sys_user (
      id, 
      user_id, 
      user_name, 
      password, 
      status, 
      create_user_id, 
      update_user_id, 
      create_date, 
      update_date, 
      last_login_date, 
      description, 
      organization_id, 
      user_type, 
      auth_type, 
      emp_entry_time, 
      emp_leave_time, 
      emp_status, 
      tel
      )
    values (
      #{id}, 
      #{userId}, 
      #{userName}, 
      #{password}, 
      #{status}, 
      #{createUserId}, 
      #{updateUserId}, 
      #{createDate}, 
      #{updateDate}, 
      #{lastLoginDate}, 
      #{description}, 
      #{organizationId}, 
      #{userType}, 
      #{authType}, 
      #{empEntryTime}, 
      #{empLeaveTime}, 
      #{empStatus}, 
      #{tel}
      )
  </insert>
  
  <insert id="insertSelective" parameterType="com.sales.model.business.SysUser">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into t_sys_user
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="userId != null">
        user_id,
      </if>
      <if test="userName != null">
        user_name,
      </if>
      <if test="password != null">
        password,
      </if>
      <if test="status != null">
        status,
      </if>
      <if test="createUserId != null">
        create_user_id,
      </if>
      <if test="updateUserId != null">
        update_user_id,
      </if>
      <if test="createDate != null">
        create_date,
      </if>
      <if test="updateDate != null">
        update_date,
      </if>
      <if test="lastLoginDate != null">
        last_login_date,
      </if>
      <if test="description != null">
        description,
      </if>
      <if test="organizationId != null">
        organization_id,
      </if>
      <if test="userType != null">
        user_type,
      </if>
      <if test="authType != null">
        auth_type,
      </if>
      <if test="empEntryTime != null">
        emp_entry_time,
      </if>
      <if test="empLeaveTime != null">
        emp_leave_time,
      </if>
      <if test="empStatus != null">
        emp_status,
      </if>
      <if test="tel != null">
        tel,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id},
      </if>
      <if test="userId != null">
        #{userId},
      </if>
      <if test="userName != null">
        #{userName},
      </if>
      <if test="password != null">
        #{password},
      </if>
      <if test="status != null">
        #{status},
      </if>
      <if test="createUserId != null">
        #{createUserId},
      </if>
      <if test="updateUserId != null">
        #{updateUserId},
      </if>
      <if test="createDate != null">
        #{createDate},
      </if>
      <if test="updateDate != null">
        #{updateDate},
      </if>
      <if test="lastLoginDate != null">
        #{lastLoginDate},
      </if>
      <if test="description != null">
        #{description},
      </if>
      <if test="organizationId != null">
        #{organizationId},
      </if>
      <if test="userType != null">
        #{userType},
      </if>
      <if test="authType != null">
        #{authType},
      </if>
      <if test="empEntryTime != null">
        #{empEntryTime},
      </if>
      <if test="empLeaveTime != null">
        #{empLeaveTime},
      </if>
      <if test="empStatus != null">
        #{empStatus},
      </if>
      <if test="tel != null">
        #{tel},
      </if>
    </trim>
  </insert>
  
  <update id="updateByPrimaryKeySelective" parameterType="com.sales.model.business.SysUser">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update t_sys_user
    <set>
      <if test="id != null">
      	id = #{id},
      </if>
      <if test="userId != null">
      	user_id = #{userId},
      </if>
      <if test="userName != null">
      	user_name = #{userName},
      </if>
      <if test="password != null">
      	password = #{password},
      </if>
      <if test="status != null">
      	status = #{status},
      </if>
      <if test="createUserId != null">
      	create_user_id = #{createUserId},
      </if>
      <if test="updateUserId != null">
      	update_user_id = #{updateUserId},
      </if>
      <if test="createDate != null">
      	create_date = #{createDate},
      </if>
      <if test="updateDate != null">
      	update_date = #{updateDate},
      </if>
      <if test="lastLoginDate != null">
      	last_login_date = #{lastLoginDate},
      </if>
      <if test="description != null">
      	description = #{description},
      </if>
      <if test="organizationId != null">
      	organization_id = #{organizationId},
      </if>
      <if test="userType != null">
      	user_type = #{userType},
      </if>
      <if test="authType != null">
      	auth_type = #{authType},
      </if>
      <if test="empEntryTime != null">
      	emp_entry_time = #{empEntryTime},
      </if>
      <if test="empLeaveTime != null">
      	emp_leave_time = #{empLeaveTime},
      </if>
      <if test="empStatus != null">
      	emp_status = #{empStatus},
      </if>
      <if test="tel != null">
      	tel = #{tel},
      </if>
    </set>
    where id = #{id}
  </update>
  
  <update id="updateByPrimaryKey" parameterType="com.sales.model.business.SysUser">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update t_sys_user
    set 
      id = #{id}, 
      user_id = #{userId}, 
      user_name = #{userName}, 
      password = #{password}, 
      status = #{status}, 
      update_user_id = #{updateUserId}, 
      update_date = #{updateDate}, 
      last_login_date = #{lastLoginDate}, 
      description = #{description}, 
      organization_id = #{organizationId}, 
      user_type = #{userType}, 
      auth_type = #{authType}, 
      emp_entry_time = #{empEntryTime}, 
      emp_leave_time = #{empLeaveTime}, 
      emp_status = #{empStatus}, 
      tel = #{tel}
    where id = #{id}
  </update>
  
  <select id="selectList" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		<include refid="Base_From_Tbl" />
		<where>
			
			<if test="model.id != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.id = #{model.id}
				</trim>
			</if>
			
			<if test="model.userId != null and model.userId != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.user_id like CONCAT('%','${model.userId}','%')
				</trim>
			</if>
			
			<if test="model.userName != null and model.userName != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.user_name like CONCAT('%','${model.userName}','%')
				</trim>
			</if>
			
			<if test="model.password != null and model.password != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.password like CONCAT('%','${model.password}','%')
				</trim>
			</if>
			
			<if test="model.status != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.status = #{model.status}
				</trim>
			</if>
			
			<if test="model.createUserId != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.create_user_id = #{model.createUserId}
				</trim>
			</if>
			
			<if test="model.updateUserId != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.update_user_id = #{model.updateUserId}
				</trim>
			</if>
			
			<if test="model.createDate != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.create_date = #{model.createDate}
				</trim>
			</if>
			
			<if test="model.updateDate != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.update_date = #{model.updateDate}
				</trim>
			</if>
			
			<if test="model.lastLoginDate != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.last_login_date = #{model.lastLoginDate}
				</trim>
			</if>
			
			<if test="model.description != null and model.description != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.description like CONCAT('%','${model.description}','%')
				</trim>
			</if>
			
			<if test="model.organizationId != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.organization_id = #{model.organizationId}
				</trim>
			</if>
			
			<if test="model.userType != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.user_type = #{model.userType}
				</trim>
			</if>
			
			<if test="model.authType != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.auth_type = #{model.authType}
				</trim>
			</if>
			
			<if test="model.empEntryTime != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.emp_entry_time = #{model.empEntryTime}
				</trim>
			</if>
			
			<if test="model.empLeaveTime != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.emp_leave_time = #{model.empLeaveTime}
				</trim>
			</if>
			
			<if test="model.empStatus != null">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.emp_status = #{model.empStatus}
				</trim>
			</if>
			
			<if test="model.tel != null and model.tel != ''">
				<trim prefix="AND (" suffix=")" suffixOverrides="AND | OR">
					o.tel like CONCAT('%','${model.tel}','%')
				</trim>
			</if>
		</where>
	</select>
	
</mapper>